import{j as h}from"./jsx-runtime-QvZ8i92b.js";import{g as Fe,r as v,R as Le}from"./index-uubelm5h.js";import{d as ze}from"./js.cookie-CRL9lqqW.js";import{r as Ye}from"./index-BS0fpLo9.js";var pe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",i=0;i<arguments.length;i++){var s=arguments[i];s&&(a=o(a,n(s)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var s in a)t.call(a,s)&&a[s]&&(i=o(i,s));return i}function o(a,i){return i?a?a+" "+i:a+i:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(pe);var Ue=pe.exports;const G=Fe(Ue),J=v.createContext({locale:"zh-CN"}),We={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",month:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},week:{monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"}},Be={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",month:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},week:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}},he={"zh-CN":We,"en-US":Be};function Ge(e){e.daysInMonth(),e.startOf("month").format("YYYY-MM-DD"),e.endOf("month").format("YYYY-MM-DD");const t=e.startOf("month").day();e.endOf("month").day();const r=new Array(6*7),n=t===0?6:t-1;for(let o=0;o<n;o++)r[o]={date:e.startOf("month").subtract(n-o,"day"),currentMonth:!1};for(let o=n;o<r.length;o++){const a=e.startOf("month").add(o-n,"day");r[o]={date:a,currentMonth:e.isSame(a,"month")}}return r}function me(e){const t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],{renderCell:r,renderCellContent:n,value:o,selectHandler:a,curMonth:i}=e,s=v.useContext(J),c=he[s.locale];function d(u){const m=[];for(let l=0;l<6;l++){const f=[];for(let y=0;y<7;y++){const g=u[l*7+y];f[y]=h.jsx("div",{className:"calendar-month-body-day "+(g.currentMonth?"calendar-month-body-day-current":""),onClick:()=>{a(g.date)},children:r?r(g.date):h.jsxs("div",{className:"calendar-month-body-day-cell",children:[h.jsx("div",{className:G("calendar-month-body-day-cell-value",o.isSame(g.date,"day")?"calendar-month-body-day-cell-value-selected":""),children:g.date.format("DD")}),h.jsx("div",{className:"calendar-month-body-day-cell-content",children:n==null?void 0:n(g.date)})]})},g.date.format("DD"))}m.push(f)}return m.map((l,f)=>h.jsx("div",{className:"calendar-month-body-row",children:l},f))}return h.jsxs("div",{className:"calendar-month",children:[h.jsx("div",{className:"calendar-month-week-list",children:t.map(u=>h.jsx("div",{className:"calendar-month-week-list-item",children:c.week[u]},u))}),h.jsx("div",{children:d(Ge(i))})]})}me.__docgenInfo={description:"",methods:[],displayName:"MonthCalendar",props:{value:{required:!0,tsType:{name:"Dayjs"},description:""},className:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => void",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"void"}}},description:""},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => React.ReactNode",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},renderCellContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => React.ReactNode",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},locale:{required:!1,tsType:{name:"string"},description:""},selectHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Dayjs) => void",signature:{arguments:[{type:{name:"Dayjs"},name:"date"}],return:{name:"void"}}},description:""},curMonth:{required:!0,tsType:{name:"Dayjs"},description:""}}};function ge(e){const{curMonth:t,prevMonthHandler:r,nextMonthHandler:n,todayHandler:o}=e,a=v.useContext(J),i=he[a.locale];return h.jsx("div",{className:"calendar-header",children:h.jsxs("div",{className:"calendar-header-left",children:[h.jsx("div",{className:"calendar-header-icon",onClick:r,children:"<"}),h.jsx("div",{className:"calendar-header-value",children:t.format(i.formatMonth)}),h.jsx("div",{className:"calendar-header-icon",onClick:n,children:">"}),h.jsx("button",{className:"calendar-header-btn",onClick:o,children:i.today})]})})}ge.__docgenInfo={description:"",methods:[],displayName:"Header",props:{curMonth:{required:!0,tsType:{name:"Dayjs"},description:""},prevMonthHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},nextMonthHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},todayHandler:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function Je(e){const{style:t,className:r,locale:n,value:o,onChange:a}=e,i=G(r,"calendar"),[s,c]=v.useState(o),[d,u]=v.useState(o);function m(b){c(b),u(b),a==null||a(b)}function l(b){m(b)}function f(){u(d.subtract(1,"month"))}function y(){u(d.add(1,"month"))}function g(){const b=ze(Date.now());m(b)}return h.jsx(J.Provider,{value:{locale:n||navigator.language},children:h.jsxs("div",{className:i,style:t,children:[h.jsx(ge,{curMonth:d,prevMonthHandler:f,nextMonthHandler:y,todayHandler:g}),h.jsx(me,{...e,selectHandler:l,value:s,curMonth:d})]})})}Je.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{value:{required:!0,tsType:{name:"Dayjs"},description:""},className:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => void",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"void"}}},description:""},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => React.ReactNode",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},renderCellContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: Dayjs) => React.ReactNode",signature:{arguments:[{type:{name:"Dayjs"},name:"value"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},locale:{required:!1,tsType:{name:"string"},description:""}}};const Ve={fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em",focusable:"false","aria-hidden":"true"};function Ke(e){return Array.isArray(e)&&e.length===2?{width:e[0],height:e[1]}:{width:e||"1em",height:e||"1em"}}const Xe=Le.forwardRef((e,t)=>{const{className:r,style:n,size:o="1em",spin:a,children:i,component:s,...c}=e,d=G("icon",r,{"icon-spin":a}),{width:u,height:m}=Ke(o),l=()=>{const f={...Ve,test:"test"};if(s)return h.jsx(s,{...f,children:i});if(i)return h.jsx("svg",{ref:t,width:u,height:m,fill:"currentColor",...c,children:i})};return h.jsx("span",{className:d,style:n,children:l()})});Xe.__docgenInfo={description:"",methods:[],displayName:"Icon"};v.createContext({});function Ze(e){return typeof e=="string"?document.querySelector(e):typeof e=="object"&&e instanceof HTMLElement?e:document.body}const Qe=v.forwardRef((e,t)=>{const{children:r,attach:n=document.body}=e,o=v.useMemo(()=>{const a=document.createElement("div");return a.className="portal-container",a},[]);return v.useEffect(()=>{const a=Ze(n);return a==null||a.appendChild(o),()=>{a==null||a.removeChild(o)}},[n,o]),v.useImperativeHandle(t,()=>o),Ye.createPortal(r,o)});Qe.__docgenInfo={description:"",methods:[],displayName:"Portal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},attach:{required:!1,tsType:{name:"HTMLElement"},description:""}}};var ye=typeof global=="object"&&global&&global.Object===Object&&global,ke=typeof self=="object"&&self&&self.Object===Object&&self,S=ye||ke||Function("return this")(),$=S.Symbol,ve=Object.prototype,et=ve.hasOwnProperty,tt=ve.toString,M=$?$.toStringTag:void 0;function rt(e){var t=et.call(e,M),r=e[M];try{e[M]=void 0;var n=!0}catch{}var o=tt.call(e);return n&&(t?e[M]=r:delete e[M]),o}var nt=Object.prototype,at=nt.toString;function ot(e){return at.call(e)}var it="[object Null]",st="[object Undefined]",ee=$?$.toStringTag:void 0;function I(e){return e==null?e===void 0?st:it:ee&&ee in Object(e)?rt(e):ot(e)}function P(e){return e!=null&&typeof e=="object"}var Y=Array.isArray;function x(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function be(e){return e}var ct="[object AsyncFunction]",ut="[object Function]",dt="[object GeneratorFunction]",lt="[object Proxy]";function V(e){if(!x(e))return!1;var t=I(e);return t==ut||t==dt||t==ct||t==lt}var L=S["__core-js_shared__"],te=function(){var e=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ft(e){return!!te&&te in e}var pt=Function.prototype,ht=pt.toString;function mt(e){if(e!=null){try{return ht.call(e)}catch{}try{return e+""}catch{}}return""}var gt=/[\\^$.*+?()[\]{}|]/g,yt=/^\[object .+?Constructor\]$/,vt=Function.prototype,bt=Object.prototype,_t=vt.toString,wt=bt.hasOwnProperty,Tt=RegExp("^"+_t.call(wt).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jt(e){if(!x(e)||ft(e))return!1;var t=V(e)?Tt:yt;return t.test(mt(e))}function xt(e,t){return e==null?void 0:e[t]}function K(e,t){var r=xt(e,t);return jt(r)?r:void 0}var re=Object.create,Ct=function(){function e(){}return function(t){if(!x(t))return{};if(re)return re(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function St(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ot(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Nt=800,Mt=16,Rt=Date.now;function At(e){var t=0,r=0;return function(){var n=Rt(),o=Mt-(n-r);if(r=n,o>0){if(++t>=Nt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Pt(e){return function(){return e}}var q=function(){try{var e=K(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Dt=q?function(e,t){return q(e,"toString",{configurable:!0,enumerable:!1,value:Pt(t),writable:!0})}:be,$t=At(Dt),qt=9007199254740991,It=/^(?:0|[1-9]\d*)$/;function _e(e,t){var r=typeof e;return t=t??qt,!!t&&(r=="number"||r!="symbol"&&It.test(e))&&e>-1&&e%1==0&&e<t}function X(e,t,r){t=="__proto__"&&q?q(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function E(e,t){return e===t||e!==e&&t!==t}var Et=Object.prototype,Ht=Et.hasOwnProperty;function Ft(e,t,r){var n=e[t];(!(Ht.call(e,t)&&E(n,r))||r===void 0&&!(t in e))&&X(e,t,r)}function Lt(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=void 0;c===void 0&&(c=e[s]),o?X(r,s,c):Ft(r,s,c)}return r}var ne=Math.max;function zt(e,t,r){return t=ne(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=ne(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),St(e,this,s)}}function Yt(e,t){return $t(zt(e,t,be),e+"")}var Ut=9007199254740991;function we(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ut}function Z(e){return e!=null&&we(e.length)&&!V(e)}function Wt(e,t,r){if(!x(r))return!1;var n=typeof t;return(n=="number"?Z(r)&&_e(t,r.length):n=="string"&&t in r)?E(r[t],e):!1}function Bt(e){return Yt(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,i&&Wt(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t})}var Gt=Object.prototype;function Te(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gt;return e===r}function Jt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Vt="[object Arguments]";function ae(e){return P(e)&&I(e)==Vt}var je=Object.prototype,Kt=je.hasOwnProperty,Xt=je.propertyIsEnumerable,U=ae(function(){return arguments}())?ae:function(e){return P(e)&&Kt.call(e,"callee")&&!Xt.call(e,"callee")};function Zt(){return!1}var xe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oe=xe&&typeof module=="object"&&module&&!module.nodeType&&module,Qt=oe&&oe.exports===xe,ie=Qt?S.Buffer:void 0,kt=ie?ie.isBuffer:void 0,Ce=kt||Zt,er="[object Arguments]",tr="[object Array]",rr="[object Boolean]",nr="[object Date]",ar="[object Error]",or="[object Function]",ir="[object Map]",sr="[object Number]",cr="[object Object]",ur="[object RegExp]",dr="[object Set]",lr="[object String]",fr="[object WeakMap]",pr="[object ArrayBuffer]",hr="[object DataView]",mr="[object Float32Array]",gr="[object Float64Array]",yr="[object Int8Array]",vr="[object Int16Array]",br="[object Int32Array]",_r="[object Uint8Array]",wr="[object Uint8ClampedArray]",Tr="[object Uint16Array]",jr="[object Uint32Array]",p={};p[mr]=p[gr]=p[yr]=p[vr]=p[br]=p[_r]=p[wr]=p[Tr]=p[jr]=!0;p[er]=p[tr]=p[pr]=p[rr]=p[hr]=p[nr]=p[ar]=p[or]=p[ir]=p[sr]=p[cr]=p[ur]=p[dr]=p[lr]=p[fr]=!1;function xr(e){return P(e)&&we(e.length)&&!!p[I(e)]}function Cr(e){return function(t){return e(t)}}var Se=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R=Se&&typeof module=="object"&&module&&!module.nodeType&&module,Sr=R&&R.exports===Se,z=Sr&&ye.process,se=function(){try{var e=R&&R.require&&R.require("util").types;return e||z&&z.binding&&z.binding("util")}catch{}}(),ce=se&&se.isTypedArray,Oe=ce?Cr(ce):xr;function Or(e,t){var r=Y(e),n=!r&&U(e),o=!r&&!n&&Ce(e),a=!r&&!n&&!o&&Oe(e),i=r||n||o||a,s=i?Jt(e.length,String):[],c=s.length;for(var d in e)i&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||_e(d,c))||s.push(d);return s}function Nr(e,t){return function(r){return e(t(r))}}function Mr(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Rr=Object.prototype,Ar=Rr.hasOwnProperty;function Pr(e){if(!x(e))return Mr(e);var t=Te(e),r=[];for(var n in e)n=="constructor"&&(t||!Ar.call(e,n))||r.push(n);return r}function Ne(e){return Z(e)?Or(e):Pr(e)}var A=K(Object,"create");function Dr(){this.__data__=A?A(null):{},this.size=0}function $r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qr="__lodash_hash_undefined__",Ir=Object.prototype,Er=Ir.hasOwnProperty;function Hr(e){var t=this.__data__;if(A){var r=t[e];return r===qr?void 0:r}return Er.call(t,e)?t[e]:void 0}var Fr=Object.prototype,Lr=Fr.hasOwnProperty;function zr(e){var t=this.__data__;return A?t[e]!==void 0:Lr.call(t,e)}var Yr="__lodash_hash_undefined__";function Ur(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=A&&t===void 0?Yr:t,this}function j(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}j.prototype.clear=Dr;j.prototype.delete=$r;j.prototype.get=Hr;j.prototype.has=zr;j.prototype.set=Ur;function Wr(){this.__data__=[],this.size=0}function H(e,t){for(var r=e.length;r--;)if(E(e[r][0],t))return r;return-1}var Br=Array.prototype,Gr=Br.splice;function Jr(e){var t=this.__data__,r=H(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Gr.call(t,r,1),--this.size,!0}function Vr(e){var t=this.__data__,r=H(t,e);return r<0?void 0:t[r][1]}function Kr(e){return H(this.__data__,e)>-1}function Xr(e,t){var r=this.__data__,n=H(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function _(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_.prototype.clear=Wr;_.prototype.delete=Jr;_.prototype.get=Vr;_.prototype.has=Kr;_.prototype.set=Xr;var Me=K(S,"Map");function Zr(){this.size=0,this.__data__={hash:new j,map:new(Me||_),string:new j}}function Qr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function F(e,t){var r=e.__data__;return Qr(t)?r[typeof t=="string"?"string":"hash"]:r.map}function kr(e){var t=F(this,e).delete(e);return this.size-=t?1:0,t}function en(e){return F(this,e).get(e)}function tn(e){return F(this,e).has(e)}function rn(e,t){var r=F(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function O(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}O.prototype.clear=Zr;O.prototype.delete=kr;O.prototype.get=en;O.prototype.has=tn;O.prototype.set=rn;var Re=Nr(Object.getPrototypeOf,Object),nn="[object Object]",an=Function.prototype,on=Object.prototype,Ae=an.toString,sn=on.hasOwnProperty,cn=Ae.call(Object);function un(e){if(!P(e)||I(e)!=nn)return!1;var t=Re(e);if(t===null)return!0;var r=sn.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ae.call(r)==cn}function dn(){this.__data__=new _,this.size=0}function ln(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function fn(e){return this.__data__.get(e)}function pn(e){return this.__data__.has(e)}var hn=200;function mn(e,t){var r=this.__data__;if(r instanceof _){var n=r.__data__;if(!Me||n.length<hn-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new O(n)}return r.set(e,t),this.size=r.size,this}function N(e){var t=this.__data__=new _(e);this.size=t.size}N.prototype.clear=dn;N.prototype.delete=ln;N.prototype.get=fn;N.prototype.has=pn;N.prototype.set=mn;var Pe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ue=Pe&&typeof module=="object"&&module&&!module.nodeType&&module,gn=ue&&ue.exports===Pe,de=gn?S.Buffer:void 0;de&&de.allocUnsafe;function yn(e,t){return e.slice()}var le=S.Uint8Array;function vn(e){var t=new e.constructor(e.byteLength);return new le(t).set(new le(e)),t}function bn(e,t){var r=vn(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function _n(e){return typeof e.constructor=="function"&&!Te(e)?Ct(Re(e)):{}}function wn(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var c=i[++o];if(r(a[c],c,a)===!1)break}return t}}var Tn=wn();function W(e,t,r){(r!==void 0&&!E(e[t],r)||r===void 0&&!(t in e))&&X(e,t,r)}function jn(e){return P(e)&&Z(e)}function B(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function xn(e){return Lt(e,Ne(e))}function Cn(e,t,r,n,o,a,i){var s=B(e,r),c=B(t,r),d=i.get(c);if(d){W(e,r,d);return}var u=a?a(s,c,r+"",e,t,i):void 0,m=u===void 0;if(m){var l=Y(c),f=!l&&Ce(c),y=!l&&!f&&Oe(c);u=c,l||f||y?Y(s)?u=s:jn(s)?u=Ot(s):f?(m=!1,u=yn(c)):y?(m=!1,u=bn(c)):u=[]:un(c)||U(c)?(u=s,U(s)?u=xn(s):(!x(s)||V(s))&&(u=_n(c))):m=!1}m&&(i.set(c,u),o(u,c,n,a,i),i.delete(c)),W(e,r,u)}function De(e,t,r,n,o){e!==t&&Tn(t,function(a,i){if(o||(o=new N),x(a))Cn(e,t,i,r,De,n,o);else{var s=n?n(B(e,i),a,i+"",e,t,o):void 0;s===void 0&&(s=a),W(e,i,s)}},Ne)}var Sn=Bt(function(e,t,r){De(e,t,r)});function fe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e===e}function T(e,t){if(fe(e))return e;if(e===void 0)return t;const r=parseFloat(e);return fe(r)?r:t}const C={rotate:-20,gap:[100,100],font:{fontSize:"16px",color:"rgba(0, 0, 0, 0.15)",fontFamily:"sans-serif",fontWeight:"normal"}};function On(e){var a,i,s,c,d,u;const t=e||{},r={...t,rotate:t.rotate||C.rotate,font:{...C.font,...t.font},width:T(t.width,C.width),height:T(t.height,C.height),gap:[T((a=t.gap)==null?void 0:a[0],(i=C.gap)==null?void 0:i[0]),T((s=t.gap)==null?void 0:s[1],(c=C.gap)==null?void 0:c[1])],getContainer:t.getContainer},n=T((d=r.offset)==null?void 0:d[0],0),o=T((u=r.offset)==null?void 0:u[1],0);return r.offset=[n,o],r}function Nn(e,t,r){let n=0,o=0;const a=[];t.forEach(s=>{const{width:c,fontBoundingBoxAscent:d,fontBoundingBoxDescent:u}=e.measureText(s),m=d+u;c>n&&(n=c),o+=m,a.push({height:m,width:c})});const i=r*Math.PI/180;return{originWidth:n,originHeight:o,lineSize:a,width:Math.ceil(Math.abs(Math.sin(i)*o)+Math.abs(Math.cos(i)*n)),height:Math.ceil(Math.abs(Math.sin(i)*n)+Math.abs(o*Math.cos(i)))}}function Mn(e){const{rotate:t,image:r,content:n,font:o,gap:a}=e,i=document.createElement("canvas"),s=i.getContext("2d"),c=window.devicePixelRatio||1,d=(l,f)=>{const y=a[0]+l,g=a[1]+f;i.setAttribute("width",`${y*c}px`),i.setAttribute("height",`${g*c}px`),i.style.width=`${y}px`,i.style.height=`${g}px`,s.translate(y*c/2,g*c/2),s.scale(c,c);const b=t*Math.PI/180;s.rotate(b)};return r?new Promise(l=>{const f=new Image;f.crossOrigin="anonymous",f.referrerPolicy="no-referrer",f.src=r,f.onload=()=>{},f.onerror=()=>{}}):(()=>{const{color:l,fontSize:f,fontFamily:y,fontWeight:g}=o,b=T(f,0);s.font=`${g} ${b}px ${y}`;const w=Nn(s,[...n],t),D=e.width||w.width,Q=e.height||w.height;return d(D,Q),s.fillStyle=l,s.font=`${g} ${b}px ${y}`,s.textBaseline="top",[...n].forEach(($e,k)=>{const{height:qe,width:Ie}=w.lineSize[k],Ee=-Ie/2,He=-w.originHeight/2+qe*k;s.fillText($e,Ee,He)}),Promise.resolve({base64Url:i.toDataURL(),height:Q,width:D})})()}function Rn(e){const[t,r]=v.useState(e||{}),n=On(t),o=v.useRef(),a=n.getContainer(),i=v.useRef();function s(){a&&Mn(n).then(c=>{var m;const{base64Url:d}=c,u=`
      width: 100%;
      height: 100%;
      background-image:url(${d});
      background-repeat: repeat;
      position:absolute;
      top:0;
      left:0;
      `;if(!o.current){const l=document.createElement("div");o.current=l,a.append(l),a.style.position="relative"}o.current.setAttribute("style",u),a&&((m=i.current)==null||m.disconnect(),i.current=new MutationObserver(l=>{var y,g;l.some(b=>{let w=!1;return b.removedNodes.length&&(w=Array.from(b.removedNodes).some(D=>D===o.current)),b.type==="attributes"&&b.target===o.current&&(w=!0),w})&&((g=(y=o.current)==null?void 0:y.parentNode)==null||g.removeChild(o.current),o.current=void 0,s())}),i.current.observe(a,{attributes:!0,childList:!0,subtree:!0}))})}return v.useEffect(()=>{s()},[t]),{generateWatermark:c=>{r(Sn({},t,c))},destroy:()=>{}}}function An(e){const{className:t,style:r}=e,n=v.useRef(null),o=v.useCallback(()=>e.getContainer?e.getContainer():n.current,[n.current,e.getContainer]),{generateWatermark:a}=Rn({...e,getContainer:o});return v.useEffect(()=>{a({...e,getContainer:o})},[]),h.jsx("div",{className:t,style:r,ref:n,children:e.children})}An.__docgenInfo={description:"",methods:[],displayName:"Watermark",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:""},height:{required:!1,tsType:{name:"number"},description:""},rotate:{required:!1,tsType:{name:"number"},description:""},gap:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},offset:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},content:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},image:{required:!1,tsType:{name:"string"},description:""},font:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
  fontSize?: number | string;\r
  fontFamily?: string;\r
  fontWeight?: number | string;\r
  color?: string;\r
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}},{key:"fontFamily",value:{name:"string",required:!1}},{key:"fontWeight",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}},{key:"color",value:{name:"string",required:!1}}]}},description:""},getContainer:{required:!1,tsType:{name:"signature",type:"function",raw:"() => HTMLElement",signature:{arguments:[],return:{name:"HTMLElement"}}},description:""}}};function Pn(e){const t=v.useRef(null),[r,n]=v.useState(!1),{className:o,style:a,children:i,placeholder:s,offset:c,onContentVisible:d}=e,u=v.useRef();return v.useEffect(()=>{const m={rootMargin:typeof c=="number"?`${c}px`:c,threshold:.1};u.current=new IntersectionObserver(f=>{f.forEach(y=>{var g;if(y.isIntersecting){n(!0),d==null||d();const b=t.current;(g=u.current)==null||g.unobserve(b)}})},m);const l=t.current;return l instanceof HTMLElement&&u.current.observe(l),()=>{var f;l&&l instanceof HTMLElement&&((f=u.current)==null||f.unobserve(l))}},[]),h.jsx("div",{ref:t,className:o,style:a,children:r?i:s})}Pn.__docgenInfo={description:"",methods:[],displayName:"LazyLoad",props:{className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},placeholder:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},offset:{required:!1,tsType:{name:"number"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onContentVisible:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{Je as C,Xe as I,Pn as L,An as W};
